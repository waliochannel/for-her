<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>You‚Äôre Doing Amazing ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --pink: #ff4f8b;
}

body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(to bottom, #ffd1dc, #fff);
  color: #444;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.container {
  width: 100%;
  max-width: 600px; /* good for 1080p */
  padding: 20px;
}

.card {
  background: white;
  border-radius: 20px;
  padding: 30px 25px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  position: relative;
}

h1 {
  color: var(--pink);
  margin-top: 10px;
}

button {
  background: var(--pink);
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  opacity: 0.9;
}

.top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.icon-btn {
  background: none;
  color: var(--pink);
  border: none;
  font-size: 16px;
  cursor: pointer;
}

#heart {
  font-size: 80px;
  cursor: pointer;
  transition: transform 0.1s;
  margin: 10px 0;
}

#heart:active {
  transform: scale(1.2);
}

.progress {
  margin: 20px 0;
  background: #eee;
  border-radius: 20px;
  overflow: hidden;
}

.bar {
  height: 20px;
  width: 0%;
  background: var(--pink);
  transition: width 0.3s;
}

.message {
  margin-top: 15px;
  min-height: 50px;
  font-size: 16px;
}

.hidden {
  display: none;
}

.typing {
  font-size: 16px;
  white-space: pre-line;
  line-height: 1.6;
}

/* Mobile tweak */
@media (max-width: 480px) {
  h1 {
    font-size: 22px;
  }
  #heart {
    font-size: 70px;
  }
}
</style>
</head>

<body>

<div class="container">
  <div class="card">

    <!-- TOP BAR -->
    <div class="top-bar">
      <button class="icon-btn" onclick="goHome()">üè† Home</button>
      <button class="icon-btn" onclick="toggleMusic()">üéµ Music</button>
    </div>

    <!-- START -->
    <div id="start">
      <h1>üéÆ Mini Game</h1>
      <p>
        This game is for someone who wakes up early,<br>
        comes home late,<br>
        and still keeps going üíó
      </p>
      <button onclick="startGame()">Start</button>
    </div>

    <!-- GAME -->
    <div id="game" class="hidden">
      <h1>Collect Strength üíñ</h1>
      <p>Tap the heart to gain energy</p>

      <div id="heart">üíñ</div>

      <div class="progress">
        <div class="bar" id="bar"></div>
      </div>

      <div class="message" id="msg"></div>
    </div>

    <!-- FINAL -->
    <div id="final" class="hidden">
      <h1>üíó You Made It</h1>
      <div class="typing" id="typing"></div>
    </div>

  </div>
</div>

<!-- BACKGROUND MUSIC -->
<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
let energy = 0;
let musicOn = false;

const messages = [
  "I know the JB to SG journey drains you üòû",
  "Waking up at 5am takes real strength üåÖ",
  "Coming home at 10pm is not easy",
  "You carry so many responsibilities",
  "Bills, commitments, expectations‚Ä¶",
  "And yet, you still keep going",
  "Even when you‚Äôre tired",
  "Even when you feel like giving up",
  "I‚Äôm so proud of you ü§ç"
];

function startGame() {
  document.getElementById('start').classList.add('hidden');
  document.getElementById('game').classList.remove('hidden');

  // autoplay music after interaction
  if (!musicOn) {
    document.getElementById('bgMusic').play();
    musicOn = true;
  }
}

function goHome() {
  energy = 0;
  document.getElementById('bar').style.width = "0%";
  document.getElementById('msg').innerText = "";
  document.getElementById('typing').innerText = "";

  document.getElementById('game').classList.add('hidden');
  document.getElementById('final').classList.add('hidden');
  document.getElementById('start').classList.remove('hidden');
}

function toggleMusic() {
  const music = document.getElementById('bgMusic');
  if (music.paused) {
    music.play();
    musicOn = true;
  } else {
    music.pause();
    musicOn = false;
  }
}

document.getElementById('heart').onclick = () => {
  if (energy >= 100) return;

  energy += 10;
  document.getElementById('bar').style.width = energy + "%";

  const msg = messages[Math.floor(Math.random() * messages.length)];
  document.getElementById('msg').innerText = msg;

  if (energy >= 100) {
    setTimeout(showFinal, 500);
  }
};

function showFinal() {
  document.getElementById('game').classList.add('hidden');
  document.getElementById('final').classList.remove('hidden');

  const text =
`I know you‚Äôre tired.
I know some days feel too heavy.

But please remember this‚Ä¶

You are strong.
You are doing your best.
And your effort matters.

You don‚Äôt have to be okay all the time.
I‚Äôm here, always supporting you.

You‚Äôre not alone ü§ç`;

  typeText(text);
}

function typeText(text) {
  let i = 0;
  const el = document.getElementById("typing");
  el.innerText = "";
  const interval = setInterval(() => {
    el.innerText += text[i];
    i++;
    if (i >= text.length) clearInterval(interval);
  }, 40);
}
</script>

</body>
</html>
